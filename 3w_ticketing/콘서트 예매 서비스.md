# 콘서트 예약 서비스
<br />

### 📌3~5주차 서버 구축
[3~5주차 과제 README.md](https://github.com/kiya-moon/hanghaePlus_2024/blob/d44ad889caa5abdbb4ee95e314ba67b3ad3ff824/3w_ticketing/3~5%EC%A3%BC%EC%B0%A8%20%EA%B3%BC%EC%A0%9C%20README.md)
<br />

#### 3주차
> 주어진 요구사항을 분석하고 마일스톤, 시퀀스 다이어그램, ERD 다이어그램, API 명세서 등 설계와 개발 계획 수립에 있어 주요 문서들을 작성했다.

취업 전에 한창 회사를 알아볼 때, "개발자인데 문서 작업을 더 많이 해요," 라고 불만있어 하는 글을 많이 봤었다.<br />
직접 작성해보기 전까지는 나도 개발자가 문서 작업을 왜 해야하는 지 이해하지 못했었다.<br />
하지만 마일스톤을 작성하면서 얼추 언제 얼마만큼의 개발을 해야겠다는 계획이 러프하게 세워졌고,<br />
분석한 요구사항을 바탕으로 시퀀스 다이어그램을 그려보며 개발 방향이 명확해졌으며,<br />
ERD 다이어그램, API 명세서를 작성하면서 각각 DB와 API의 윤곽을 잡을 수 있었다.<br />
또한 피어리뷰 시간에 느낀 건데, 작성해둔 문서를 보고 설명하는 것이 코드를 바탕으로 설명하는 것보다 훨씬 쉬웠다.<br />
<br />

#### 4주차
> Swagger 문서 작성 및 TDD 기반으로 주요 API의 Business/Infrastructure 로직을 완성했다.

최근에 프론트엔드 위주의 업무를 하면서 백엔드 개발자 분과 협업을 하고 있는데, 간혹 API 쪽에서 넘어오는 에러를 어떻게 처리해주어야 할 지 알 수 없을 때가 있다.<br />
어떻게 처리해야 하는 지 요청해도 답변이 바로 오는 것이 아니니, 빠르게 개발해야 하는 입장에선 답답할 때도 부지기수.<br />
그래서 API를 개발하면서 발생할 수 있는 에러들을 최대한 처리하고 그것을 명시하는 Swqgger 문서를 작성했다.<br />
이 과정에서 에러가 이렇게나 다양하다는 것을 새삼 깨달았다. (최대한 옳다고 생각하는 에러를 지정했는데 인텔리제이가 계속 다른 걸 추천해주었다...)<br />
다음에 예외처리 할 때는 커스텀 Exception으로 처리를 해봐야겠다.<br />
<br />

#### 5주차
> 미흡한 점을 리팩토링하고, 필요한 Filter와 Intercepter, 예외처리, 로깅 등의 기능 구현을 넣어 서버 구축을 마무리했다.

클린아키텍처를 추구한다는 큰 틀은 있지만, 코치님들 사이에서도 저마다 방법이 조금씩은 다르셨다.<br />
같이 수업 듣는 동기들 깃헙을 뒤져봐도 저마다 조금씩 달라서 클린아키텍처를 처음 배운 2주차에는 멘붕도 그런 멘붕이 없었다.<br />
그래서 서버 구축을 마무리하며 5주차의 목표는 "클린아키텍처 하나는 확실히 구현하자," 에 더해 "각 로직이 어떤 책임을 가져가야 할 지 고민하며 개발하기," 였다.<br />
리팩토링 할 코드가 아주 많았다.<br />
예를 들어 예약 도메인은 비즈니스 로직인데 유저도 부르고 좌석도 부르고 좌석 상태 변경하고 예약 만들고 아주 바쁜 녀석이었다.<br />
그래서 이런 복잡한 조립의 역할은 파사드에 맡기고 도메인에는 saveReservation 이름에 어울리는 예약 저장하는 책임만 주었다.<br />
또, 예약 상태를 변경하고 예약을 만드는 역할은 엔티티에 맡김으로써 응집도를 높이고 보다 객체지향적인 코드를 지향할 수 있게 되었다.<br />
이런 노력이 보람되게도 그 주에 명예의 전당에 올랐다<br />
또 한 가지. 로깅 적용 시에 모든 곳이 다 중요해보여서 파라미터를 받고 리퀘스트를 내보내는 곳, 에러가 발생하는 곳, JPQL을 사용한 곳 등에 로깅을 다 집어넣었다.<br />
나중에 피어리뷰 시간에 들으니 로깅도 결국엔 비용이기 때문에 최대한 적은 것이 좋다고 하여, 정말 필요한 곳만 남기고 모두 제거하였다.<br />
<br />

#### 6주차
> 내 시나리오에서 동시성 문제가 발생할 수 있는 부분을 파악하고 동시성 제어 방법을 도입해보았다.

dd
<br />
